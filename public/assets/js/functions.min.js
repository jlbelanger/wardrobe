function onClickCategory(e){const t=e.target,o=t.classList.contains("footer__link--active");t.classList.toggle("footer__link--active");const n=t.getAttribute("data-category-id"),r=document.getElementById(`category-${n}`);if(!o){loadImage(r.querySelector(".carousel__item:not(.hide)"))}r.classList.toggle("hide")}const $categoryButtons=document.querySelectorAll("[data-category-id]");function debounce(e,t,o){let n;return function(){const r=this,c=arguments,s=function(){n=null,o||e.apply(r,c)},l=o&&!n;clearTimeout(n),n=setTimeout(s,t),l&&e.apply(r,c)}}function isMatch(){let e=null;const t=document.querySelectorAll(".carousel__container:not(.hide) .carousel"),o=t.length;let n,r,c,s;for(n=0;n<o;n+=1)if(r=t[n],c=r.querySelectorAll(".carousel__item:not(.hide)"),s=c[r.getAttribute("data-index")],null===e)e=s.getAttribute("data-colour-id");else if(s.getAttribute("data-colour-id")!==e)return!1;return!0}function onClickDressMe(){if(isMatch())document.body.classList.add("flash"),setTimeout((()=>{document.body.classList.remove("flash")}),500);else{const e=document.getElementById("mismatch-container");e.classList.remove("hide"),setTimeout((()=>{e.classList.add("hide")}),1e3)}}Array.from($categoryButtons).forEach((e=>{e.addEventListener("click",onClickCategory)}));const $dressMe=document.getElementById("dress-me");function onClickBack(e){const t=e.target.closest(".carousel__container").querySelector(".carousel"),o=parseInt(t.getAttribute("data-index"),10),n=t.querySelectorAll(".carousel__item:not(.hide)"),r=n.length;let c;c=o>0?o-1:r-1,scrollToItem(t,n,c)}$dressMe.addEventListener("click",onClickDressMe);const $backButtons=document.querySelectorAll(".carousel-button--back");function onClickNext(e){const t=e.target.closest(".carousel__container").querySelector(".carousel"),o=parseInt(t.getAttribute("data-index"),10),n=t.querySelectorAll(".carousel__item:not(.hide)");let r;r=o<n.length-1?o+1:0,scrollToItem(t,n,r)}Array.from($backButtons).forEach((e=>{e.addEventListener("click",onClickBack)}));const $nextButtons=document.querySelectorAll(".carousel-button--next");function randomizeCarousel(e){const t=parseInt(e.getAttribute("data-index"),10),o=e.querySelectorAll(".carousel__item:not(.hide)"),n=o.length;let r;do{r=Math.floor(Math.random()*n)}while(r===t);scrollToItem(e,o,r)}function onClickOk(e){randomizeCarousel(e.target.closest(".carousel__container").querySelector(".carousel"))}Array.from($nextButtons).forEach((e=>{e.addEventListener("click",onClickNext)}));const $okButtons=document.querySelectorAll(".carousel-button--ok");function onClickBrowse(){document.querySelectorAll(".carousel__container:not(.hide) .carousel").forEach((e=>{randomizeCarousel(e)}))}Array.from($okButtons).forEach((e=>{e.addEventListener("click",onClickOk)}));const $browse=document.getElementById("browse");function onScrollList(e){const t=e.target.closest(".carousel"),o=e.target.querySelectorAll(".carousel__item:not(.hide)"),n=o.length;let r,c;for(r=0;r<n;r+=1){c=o[r];const e=c.getBoundingClientRect();e.left>=-1*e.width&&e.right<=2*e.width&&(loadImage(c),t.setAttribute("data-index",r))}}$browse.addEventListener("click",onClickBrowse);const $lists=document.querySelectorAll(".carousel__list");function onResize(){Array.from($lists).forEach((e=>{onScrollList({target:e})}))}function onChangeSeason(e){const t=e.target.value,o=document.querySelectorAll("[data-season-ids]");Array.from(o).forEach((e=>{e.getAttribute("data-season-ids").includes(t)?e.classList.remove("hide"):e.classList.add("hide")}))}Array.from($lists).forEach((e=>{e.addEventListener("scroll",debounce(onScrollList,50))})),window.addEventListener("resize",onResize);const $seasons=document.getElementById("seasons");function loadImage(e){const t=e.querySelector("img"),o=t.getAttribute("data-src");o&&(t.setAttribute("src",o),t.removeAttribute("data-src"))}function scrollToItem(e,t,o){const n=t[o];loadImage(n),n.scrollIntoView({block:"nearest",behavior:"smooth"}),e.setAttribute("data-index",o)}$seasons.addEventListener("change",onChangeSeason);